<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BiciSmart · Bicicletas, alquiler y mantenimiento</title>

    @vite(['resources/css/app.css', 'resources/js/app.js'])

    <style>
        :root {
            --brand: #0ea563;
            --brand-strong: #0c7d4c;
            --brand-soft: #d8f5e5;
            --accent: #f3b43f;
            --ink: #0f2218;
            --muted: #4b5563;
        }

        body {
            background: radial-gradient(circle at 15% 20%, #d8f1e4, #f6fbf7 35%, #e8f3ff 75%);
            color: var(--ink);
        }

        .backdrop-grid {
            position: fixed;
            inset: 0;
            pointer-events: none;
            background:
                radial-gradient(circle at 12% 18%, rgba(14, 165, 99, 0.08), transparent 28%),
                radial-gradient(circle at 88% 12%, rgba(243, 180, 63, 0.12), transparent 30%),
                radial-gradient(circle at 80% 78%, rgba(14, 165, 99, 0.08), transparent 30%);
            mask-image: radial-gradient(circle at 50% 40%, rgba(0, 0, 0, 0.45), transparent 60%);
            z-index: 0;
        }

        .page-shell {
            width: min(1200px, calc(100% - 2.25rem));
            margin: 0 auto;
            padding: 2.5rem 0 1rem;
            position: relative;
            z-index: 1;
        }

        .surface-card {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid #e3f1e9;
            border-radius: 22px;
            box-shadow: 0 20px 60px -25px rgba(16, 63, 40, 0.35);
            backdrop-filter: blur(10px);
        }

        .pill {
            display: inline-flex;
            align-items: center;
            gap: 0.35rem;
            padding: 0.45rem 0.9rem;
            border-radius: 999px;
            border: 1px solid rgba(14, 165, 99, 0.18);
            background: linear-gradient(120deg, rgba(14, 165, 99, 0.08), rgba(255, 255, 255, 0.8));
            color: var(--brand-strong);
            font-weight: 700;
            font-size: 0.75rem;
            letter-spacing: 0.08em;
            text-transform: uppercase;
        }

        .btn-brand {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.4rem;
            padding: 0.75rem 1.1rem;
            border-radius: 14px;
            font-weight: 700;
            background: linear-gradient(135deg, var(--brand) 0%, var(--brand-strong) 100%);
            color: #fff;
            box-shadow: 0 15px 35px -18px rgba(14, 165, 99, 0.8);
            transition: transform 150ms ease, box-shadow 150ms ease;
        }

        .btn-brand:hover {
            transform: translateY(-1px);
            box-shadow: 0 18px 45px -20px rgba(14, 165, 99, 0.9);
        }

        .btn-ghost {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.4rem;
            padding: 0.75rem 1.05rem;
            border-radius: 14px;
            font-weight: 700;
            color: var(--brand-strong);
            border: 1px solid rgba(14, 165, 99, 0.16);
            background: rgba(255, 255, 255, 0.75);
        }

        .form-field label {
            display: block;
            font-weight: 700;
            font-size: 0.9rem;
            color: var(--ink);
            margin-bottom: 0.35rem;
        }

        .form-field input,
        .form-field select,
        .form-field textarea {
            width: 100%;
            border-radius: 14px;
            border: 1px solid #dcebe2;
            padding: 0.7rem 0.9rem;
            background: #f9fbf9;
            transition: border-color 120ms ease, box-shadow 120ms ease;
        }

        .form-field input:focus,
        .form-field select:focus,
        .form-field textarea:focus {
            outline: none;
            border-color: var(--brand);
            box-shadow: 0 0 0 3px rgba(14, 165, 99, 0.1);
            background: #fff;
        }

        .table-shell {
            border-radius: 18px;
            overflow: hidden;
            border: 1px solid #e3f1e9;
            box-shadow: 0 16px 50px -26px rgba(16, 63, 40, 0.35);
        }

        .table-shell table {
            width: 100%;
            border-collapse: collapse;
        }

        .table-shell thead {
            background: linear-gradient(120deg, #0d8a56, #0ea563);
            color: #fff;
            text-transform: uppercase;
            letter-spacing: 0.04em;
            font-size: 0.78rem;
        }

        .table-shell th,
        .table-shell td {
            padding: 0.9rem 1rem;
            text-align: left;
        }

        .table-shell tbody tr:nth-child(even) {
            background: rgba(14, 165, 99, 0.02);
        }

        .badge-soft {
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
            padding: 0.3rem 0.75rem;
            border-radius: 999px;
            font-size: 0.78rem;
            font-weight: 700;
            background: var(--brand-soft);
            color: var(--brand-strong);
            border: 1px solid rgba(14, 165, 99, 0.2);
        }
    </style>
</head>
<body class="min-h-screen flex flex-col text-gray-800 relative">
    <div class="backdrop-grid"></div>

    <header class="sticky top-0 z-30">
        <div class="page-shell pt-4 pb-0">
            <nav class="surface-card px-4 sm:px-6 py-3.5 flex items-center justify-between gap-3">
                <div class="flex items-center gap-3">
                    <div class="w-11 h-11 rounded-2xl bg-gradient-to-br from-green-600 via-emerald-500 to-lime-400 flex items-center justify-center shadow-lg shadow-green-500/30">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" class="w-7 h-7 text-white">
                            <path fill="currentColor" d="M16.9 11.5a2 2 0 0 1 2.7-.8l3.6 2a2 2 0 0 1 .9 2.6l-1 2 4.5 1.4a2 2 0 0 1 1.3 1.1l1.2 2.6H34a6 6 0 1 1-5.6 4H20l-2 4.1a6 6 0 1 1-3.6-1.1h.3l3.5-7.3-3.2-6.8a2 2 0 0 1 .1-1.8l2-3.4zm13.2 13.4 2.5 5.4h2.9l-1.8-3.7-3.6-1.7zm-9.9-8.7-1.1 1.8 2.2 4.7h6l-1.4-3-5.7-1.8zM14 31a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm20 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"/>
                        </svg>
                    </div>
                    <div>
                        <a href="{{ route('home') }}" class="font-extrabold text-xl tracking-tight text-gray-900">BiciSmart</a>
                        <p class="text-[11px] text-gray-500 -mt-1">Movilidad sostenible · Venta · Alquiler · Servicio</p>
                    </div>
                </div>

                <div class="hidden md:flex items-center gap-2">
                    <a href="{{ route('home') }}" class="btn-ghost text-sm">Home</a>
                    <a href="{{ route('bicicletas.catalogo') }}" class="btn-ghost text-sm">Bicicletas</a>
                    <a href="{{ route('mantenimientos.public') }}" class="btn-ghost text-sm">Mantenimientos</a>
                    <a href="{{ route('cart.index') }}" class="btn-ghost text-sm">Carrito</a>
                    @auth
                        <a href="{{ route('cart.historial') }}" class="btn-ghost text-sm">Mis compras</a>
                        <a href="{{ route('alquileres.mis') }}" class="btn-ghost text-sm">Mis alquileres</a>
                        @if(auth()->user()->esAdmin())
                            <a href="{{ route('admin.dashboard') }}" class="btn-ghost text-sm border-amber-200 text-amber-700">Panel admin</a>
                        @endif
                    @endauth
                </div>

                <div class="hidden md:flex items-center gap-2">
                    @guest
                        <a href="{{ route('login') }}" class="btn-ghost text-sm px-3">Ingresar</a>
                        <a href="{{ route('register') }}" class="btn-brand text-sm px-4">Registrarse</a>
                    @else
                        <span class="text-sm text-gray-700">Hola, {{ strtok(auth()->user()->name, ' ') }}</span>
                        <form action="{{ route('logout') }}" method="POST">
                            @csrf
                            <button class="btn-ghost text-xs px-3">Salir</button>
                        </form>
                    @endguest
                </div>

                <button id="nav-toggle" class="md:hidden inline-flex items-center justify-center w-10 h-10 rounded-xl bg-white border border-gray-200 text-gray-700">
                    ☰
                </button>
            </nav>

            <div id="nav-drawer" class="md:hidden mt-3 surface-card px-4 py-3 hidden">
                <div class="flex flex-col gap-2 text-sm">
                    <a href="{{ route('home') }}" class="btn-ghost w-full justify-start">Home</a>
                    <a href="{{ route('bicicletas.catalogo') }}" class="btn-ghost w-full justify-start">Bicicletas</a>
                    <a href="{{ route('mantenimientos.public') }}" class="btn-ghost w-full justify-start">Mantenimientos</a>
                    <a href="{{ route('cart.index') }}" class="btn-ghost w-full justify-start">Carrito</a>
                    @auth
                        <a href="{{ route('cart.historial') }}" class="btn-ghost w-full justify-start">Mis compras</a>
                        <a href="{{ route('alquileres.mis') }}" class="btn-ghost w-full justify-start">Mis alquileres</a>
                        @if(auth()->user()->esAdmin())
                            <a href="{{ route('admin.dashboard') }}" class="btn-ghost w-full justify-start">Panel admin</a>
                        @endif
                        <form action="{{ route('logout') }}" method="POST">
                            @csrf
                            <button class="btn-brand w-full justify-center text-sm mt-1">Salir</button>
                        </form>
                    @else
                        <a href="{{ route('login') }}" class="btn-ghost w-full justify-start">Ingresar</a>
                        <a href="{{ route('register') }}" class="btn-brand w-full justify-center text-sm">Registrarse</a>
                    @endguest
                </div>
            </div>
        </div>
    </header>

    @if(session('success'))
        <div class="page-shell pt-4">
            <div class="surface-card px-4 py-3 flex items-center gap-3 border border-green-100 text-green-800">
                <div class="w-8 h-8 rounded-xl bg-green-100 text-green-800 flex items-center justify-center font-black">✓</div>
                <p class="text-sm">{{ session('success') }}</p>
            </div>
        </div>
    @endif

    <main class="flex-1 w-full">
        <div class="page-shell">
            @yield('content')
        </div>
    </main>

    <footer class="mt-12 border-t border-green-100/70 bg-white/70 backdrop-blur">
        <div class="page-shell py-6 flex flex-col sm:flex-row justify-between gap-3 text-sm text-gray-600">
            <div>
                <p class="font-semibold text-gray-800">BiciSmart</p>
                <p class="text-xs text-gray-500">Movilidad sostenible · Bicicletas · Alquiler · Mantenimiento</p>
            </div>
            <div class="flex gap-2 text-xs text-gray-500">
                <span class="badge-soft">Sostenible</span>
                <span class="badge-soft">Venta y alquiler</span>
                <span class="badge-soft">Servicios técnicos</span>
            </div>
            <div class="text-xs text-gray-500">
                © {{ date('Y') }} Todos los derechos reservados
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const toggle = document.getElementById('nav-toggle');
            const drawer = document.getElementById('nav-drawer');
            if (toggle && drawer) {
                toggle.addEventListener('click', () => {
                    drawer.classList.toggle('hidden');
                });
            }
        });
    </script>
</body>
</html>

